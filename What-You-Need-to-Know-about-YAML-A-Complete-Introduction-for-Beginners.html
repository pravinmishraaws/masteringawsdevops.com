<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/blogstyles.css">
<link rel="icon" href="f.png" type="image/x-icon">
  <title>What You Need to Know about YAML: A Complete Introduction for Beginners</title>
 <script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=653115d82ee074001200f239&product=inline-share-buttons&source=platform" async="async"></script>
</head>
<body>
  <header>
<!-- Navigation Section -->
  <nav>
    <div class="logo-container">
      <a href=" https://masteringawsdevops.com"><img src="images/logo1.png" alt="Mastering AWS DevOps"></a>
    </div>
    <ul class="nav-links">
	<li><a href="index.html">Home</a></li>
  	<li><a href="Blogs.html">Book Hands-on</a></li>

    </ul>
  </nav>
  </header>


  <div class="main-container">
    <article>
    <h1>What You Need to Know about YAML: A Complete Introduction for Beginners</h1>
<img src="blogimages/b12.png" alt="Blog Post Image">

<h2>Introduction:</h2>

<p><strong>What is YAML?</strong></p>
<p>Hey there, let's jump into the world of YAML – a superstar among data languages! It's famous for being super easy to understand, just like reading a story. People use it to create special files that control how things work. But guess what? YAML isn't only for files – it's like a superhero that stores info, sends messages online, and shares data between different computer languages!</p>
<p>Imagine this: YAML stands for "<em>YAML Ain't Markup Language</em>." It's designed to be flexible and work with all kinds of programming languages. So, it's like a friendly bridge that helps different computers talk. And cool thing – when you see files ending with <code>.yaml</code> or <code>.yml</code>, that's YAML saying, "Hey, it's me!"</p>

<p>In the DevOps world, YAML is a big deal. It helps tools like Kubernetes, Ansible, and Terraform do their jobs smoothly. So, remember, YAML is like a helpful friend for computers, making everything work like magic!</p>
<p>Now, let's dive deeper into YAML. We'll start by learning the basic format of a YAML file and then explore its syntax. YAML files follow certain rules, like having the right spacing, key-value pairs, lists, arrays, strings, and numbers. After that, we'll understand how the <code>appspec.yaml</code> configuration file works.</p>
<p>So, let's begin with our first topic: understanding the general format of a typical YAML file.</p>

<p><strong>What Does a Regular YAML File Look Like?</strong></p>
<p>The format of a typical YAML file looks similar to the following. I have explained it by taking a very generic example to simply understand how the various parts of a YAML file are structured one by one.</p>

<pre>
<code># A sample YAML file: Represents company information.
company: MyCompany
domain:
  - technology
  - software
tutorial:
  - yaml:
      name: "YAML Explained"
      type: informative
      published: 2023-08-21
  - json:
      name: "JSON Introduction"
      type: useful
      published: 2023-08-20
  - xml:
      name: "Understanding XML"
      type: foundational
      published: 2023-08-19
author: John Doe
published: true
</code>
</pre>
<p>In this sample format, the YAML structure represents company information. The ‘company’ field is set to "MyCompany", and the ‘domain’ field mentions that it has two domains - ‘technology’ and ‘software’. The tutorial section contains a list of tutorials, each tutorial has further information in the ‘key:value’ pair format. The ‘author’ section is set to "John Doe", and the ‘published’ section has a value of ‘true’, which implies that the information is published.</p>

<p>So here, we have tried to put the data in a certain format. Now let’s extend this understanding and learn the actual syntax of the YAML file.</p>

<p><strong>Basic YAML Syntax</strong></p>

<p>A YAML file always organizes data using three primary structures. These primary structures are maps/dictionaries, also called mapping, arrays/lists, also called sequence, and literals, also called scalars.</p>

<p><strong>a. Maps/Dictionaries (Mapping)</strong></p>
<p>Maps are a way to represent structured data using key-value pairs. The keys are unique identifiers, and each key is associated with a corresponding value. In YAML, mappings are represented by lines like <code>key: value</code>.</p>

<p>For instance, in the below example,</p>

<pre>
<code>person:
  name: John Doe
  age: 30
  occupation: Software Engineer</code>
</pre>

<p>In this example, "person" is the key, and its corresponding value is another set of key-value pairs representing details about a person.</p>


<p>‘person’ - This is the key. It's the identifier for the map and is followed by a colon.</p>
<p>‘name: John Doe’ - This is the first key-value pair within the map. ‘name’ is the key, and ‘John Doe’ is the value associated with that key.</p>
<p>‘age: 30’ - This is the second key-value pair. ‘age’ is the key, and ‘30’ is the associated value.</p>
<p>‘occupation: Software Engineer’ - This is the third key-value pair. ‘occupation’ is the key, and ‘Software Engineer’ is the associated value.</p>

<p>Mappings are like dictionaries that connect keys to values. They're not arranged in any particular order. You can put one map inside another by indenting it more, or you can make a new map on the same level as the previous one.</p>

<p>For example:</p>

<pre>
<code>student:
  name: "John Doe"
  age: 18
  contact:
    phone: "123-456-7890"
    email: "john@example.com"</code>
</pre>

<p>In this case, "student" is the main key, and under it are keys like "name," "age," and "contact." The "contact" key itself has sub-keys "phone" and "email," creating a structure of related information.</p>

<p>In a nutshell, I can say that YAML maps allow you to group related data together using keys, making it easy to access specific pieces of information.</p>
<p><strong>Arrays/Lists (Sequence):</strong></p>
<p>In YAML, arrays, also known as lists or sequences, are used to represent collections of items in a specific order. A sequence is an ordered list of items, allowing you to group multiple values together under a single key. In YAML, sequences are denoted by a hyphen followed by a space before each item. Let’s understand this with the following example.</p>

<pre>
<code>fruits:
  - apple
  - banana
  - orange</code>
</pre>

<p>In this example, "fruits" is the key, and the associated value is a list of fruit names. Each fruit name is represented by a hyphen (-) followed by a space.</p>

<ul>
  <li>‘fruits:’ - This is the key. It identifies the array and is followed by a colon.</li>
  <li>‘- apple’ - This is the first item in the array. The hyphen indicates the start of an item, and "apple" is the value of the first item.</li>
  <li>‘- banana’ - This is the second item. The hyphen indicates another item, and "banana" is the value of the second item.</li>
  <li>‘- orange’ - This is the third item. Similarly, the hyphen indicates an item, and "orange" is the value of the third item.</li>
</ul>

<p>So in a nutshell, I can say YAML arrays represent a sequence of values under a single key. The order of items in the array is maintained, and each item is preceded by a hyphen. This is a way to group related data together while preserving the order in which they appear.</p>

<p><strong>Literals (Scalars):</strong></p>
<p>In YAML, literals, also known as scalars, refer to individual atomic values that are not structured or grouped with other values. They are simple, indivisible values that can be strings, numbers, booleans, or null.</p>

<pre>
<code>product:
  name: Laptop
  price: 1000
  in_stock: true</code>
</pre>

<p>In this example, "product" is the key, and its corresponding values are strings, a number, and a boolean.</p>

<p>The sample YAML file showcases these concepts in action. The structure and indentation help differentiate between mappings, sequences, and scalar values. This hierarchical arrangement ensures data readability and clarity when using YAML.</p>

<p><strong>Indentation:</strong></p>
<p>In YAML files, the way information is arranged visually matters a lot. It's like creating an outline with different levels of indentation, similar to how you might organize things in a list or a document. But remember, when you're indenting, use spaces, not tabs. The number of spaces doesn't have to be exact, just keep it the same for each level.</p>

<pre>
<code>school_subjects:  # This is like the main category
  - math:  # This is a sub-category, indented by 2 spaces
      name: "Mathematics"  # This is a specific detail, indented by 4 spaces
      level: high school  # Another detail
      topics: algebra, geometry  # More details
  - science:
      name: "Science"
      level: middle school
      topics: biology, chemistry</code>
</pre>

<p>In this example, the indentation levels help us see that "school_subjects" is the main section, "math" and "science" are subsections, and the specific details are indented further. This way, the structure becomes clear and organized, making it easier to grasp.</p>

<p><strong>Literals – Strings:</strong></p>
<p>In YAML, strings are used to represent text. Usually, you don't need to put quotes around strings, unless they contain special characters. For instance, if your string includes the "&" symbol, you should quote it to avoid confusion. For example:</p>

<pre>
<code>message1: YAML & JSON # Needs quotes because of &
message2: "YAML & JSON" # Works fine with quotes</code>
</pre>

<p><strong>Folding Strings:</strong></p>
<p>YAML lets you write long strings in a way that ignores line breaks using the ">" symbol. For example:</p>

<pre>
<code>message: >
 This is a long message
 that spans multiple lines
 but it's still a single line</code>
</pre>

<p><strong>Block Strings:</strong></p>
<p>You can also use the "|" symbol to write strings in multiple lines, where line breaks are preserved. For example:</p>

<pre>
<code>message: |
 This message
 has line breaks
 exactly as written</code>
</pre>

<p><strong>Chomp Characters:</strong></p>
<p>When you have multiline strings, you might want to control the new line characters at the end. You can use "+" to preserve newlines or "-" to strip them. For example:</p>

<pre>
<code>message: >+
 This message has a newline at the end
  
message: >-
 This message doesn't have a newline at the end</code>
</pre>

<p>So in a nutshell, we can use special characters with strings by quoting them, formatting lengthy sentences using ">", maintaining line breaks via "|", and controlling newline characters using "+"/"-". This section offers valuable tools to enhance the organization and presentation of textual content within YAML documents.</p>

<p><strong>Comments:</strong></p>
<p>YAML supports comments that start with "#". Comments are helpful for adding explanations or notes to your configuration.</p>

<pre>
<code># This is a comment explaining the purpose of the following line
name: John Doe  # This is a comment about the name field
age: 30         # Another comment, this time about the age field</code>
</pre>

<p>In this example, lines starting with "#" are comments. They are not treated as part of the configuration but serve as explanations or notes for anyone reading the YAML file.</p>

<p>So I can say that we can provide extra needed information in YAML document itself using “#”. It will provide more information about that document.</p>
<p><strong>Multiple Documents:</strong></p>
<p>In YAML, a file can have many separate documents. Each document can be seen as an individual YAML file within the same file. They're separated by three hyphens "---". Imagine each document as its own story within a book.</p>

<pre>
<code>---
# Document 1
name: YAML
release: 2001
---
# Document 2
uses:
 - configuration language
 - data persistence
 - internet messaging
 - cross-language data sharing
---
# Document 3
company: spacelift
...</code>
</pre>

<p>So I can say that if I want the number of documents in the same YAML File, we can do that using ‘---’ sign.</p>

<p><strong>Schemas and Tags:</strong></p>
<p>When YAML reads data, it needs to understand what type of data it's dealing with. Schemas help in this understanding. YAML has three default schemas:</p>
<ul>
  <li>FailSafe Schema: Understands basic data like maps, sequences, and strings. Works for any YAML file.</li>
  <li>JSON Schema: Understands JSON-like data, including boolean, null, int, float, and more.</li>
  <li>Core Schema: Extends JSON schema to make it more human-readable, handling similar types in different forms.</li>
</ul>

<p>In YAML, the way data is interpreted depends on the schema used. Tags come in here. They're like labels indicating the data type, though often inferred automatically. For example, maps have the tag "tag:yaml.org,2002:map," sequences have "tag:yaml.org,2002:seq," and strings have "tag:yaml.org,2002:str."</p>

<p><strong>Using Tags:</strong></p>
<p>You can explicitly tell YAML how to interpret data using tags. For instance, if you want a value to be read as a string, even if it looks like a boolean, you can tag it:</p>

<pre>
<code>company: !!str spacelift</code>
</pre>

<p>This ensures the YAML parser reads "spacelift" as a string. Tags are powerful tools for precise data interpretation.</p>

<p>So I can say, schemas in YAML define rules for validating data structure, ensuring correct formatting. Tags give explicit data type information, enhancing clarity in YAML documents.</p>

<p><strong>Anchors and Aliases:</strong></p>
<p>In complex YAML files, repeating configurations can become tedious. Anchors (&) and aliases (*) help here. You can anchor a chunk of configuration and refer to it using an alias later. This avoids duplication and keeps your code clean.</p>

<pre>
<code>service1:
    config: &service_config
        env: prod
service2:
    config: *service_config</code>
</pre>

<p>So I can say, anchors and aliases in YAML let you use the same data in different spots without copying it over and over. They help to make YAML files shorter, tidier, and less repetitive.</p>

<p><strong>Overrides:</strong></p>
<p>When configurations vary slightly, overriding helps. You can use aliases and make specific changes using overrides (<<:).</p>

<pre>
<code>service1:
    config: &service_config
        env: prod
service2:
    config:
        <<: *service_config
        version: 5</code>
</pre>

<p>So I can say, in this way, you reuse configurations with minor adjustment using overrides in YAML.</p>

<p><strong>Escaping Special Characters:</strong></p>
<p>Certain characters like :, &, |, and others have special meanings in YAML. But what if you want these characters as part of your data? You can escape them using various methods.</p>

<p>For instance:</p>

<pre>
<code>Entity Escapes: &#x20;, &#58;, &amp;
Unicode Escapes: "\u0020", "\u0027", "\u0022"
Quoted Escapes: 'YAML is the "best" configuration language'</code>
</pre>

<p>So I can say that these methods let you include special characters in your data without confusing the YAML parser.</p>

<p>By understanding these advanced YAML concepts, you can create more complex and organized configurations. It's like having advanced tools to shape your data the way you want.</p>

<p><strong>Now we have learned the fundamentals of YAML, as well as some advanced parts of YAML. Now using the above concepts we can write an appspec file in YAML.</strong></p>

<p><strong>So let's do it,</strong></p>
<p><strong>Appspec file in YAML</strong></p>

<pre>
<code>version: 1
resources:
  - FrontendService:
      Type: AWS::ECS::Service
      Properties:
        TaskDefinition: !Ref FrontendTaskDefinition
        LoadBalancerInfo:
          ContainerName: FrontendContainer
          ContainerPort: 80
  - BackendService:
      Type: AWS::ECS::Service
      Properties:
        TaskDefinition: !Ref BackendTaskDefinition
        LoadBalancerInfo:
          ContainerName: BackendContainer
          ContainerPort: 8080
  - BackgroundProcessingFunction:
      Type: AWS::Lambda::Function
      Properties:
        FunctionName: BackgroundProcessingFunction
        Handler: index.handler</code>
</pre>

<p>This is the appspec file, we have written it using the above blog. Let's break it down to understand each part of the appspec file</p>

<p><strong>Mapping (Mapping as Key-Value Pair):</strong></p>
<ul>
  <li><code>version: 1:</code> Here, "version" is a key that is mapped to the value "1". This is a basic example of a mapping.</li>
</ul>

<p><strong>Array (Sequence):</strong></p>
<ul>
  <li><code>resources:</code> The "resources" key maps to a sequence (array) of resource definitions. Each resource is defined within a hyphen (-) followed by indentation.</li>
</ul>

<p><strong>Mapping (Mapping for Each Resource):</strong></p>
<ul>
  <li><code>- FrontendService:</code> This is a mapping where "FrontendService" is a key mapped to the corresponding value. The value is itself a mapping containing properties for the frontend service resource.</li>
</ul>

<p><strong>Mapping (Properties Mapping):</strong></p>
<ul>
  <li><code>Properties:</code> Inside each resource mapping, the "Properties" key maps to a mapping that defines specific properties for that resource.</li>
</ul>

<p><strong>Mapping (Key-Value Pairs Within Properties):</strong></p>
<ul>
  <li><code>TaskDefinition: !Ref FrontendTaskDefinition:</code> Within the "Properties" mapping, various key-value pairs are used to define properties for the resource. For example, "TaskDefinition" is a key mapped to the value obtained using the YAML reference tag "!Ref FrontendTaskDefinition".</li>
</ul>

<p><strong>Mapping (Nested Mapping):</strong></p>
<ul>
  <li><code>LoadBalancerInfo:</code> Inside the "Properties" mapping, "LoadBalancerInfo" is a key mapped to a nested mapping that defines load balancer configuration for the resource.</li>
</ul>

<p><strong>Mapping (Properties for BackendService and BackgroundProcessingFunction):</strong></p>
<ul>
  <li>Similar to the frontend service resource, the "BackendService" and "BackgroundProcessingFunction" resources are also defined with their properties using mappings.</li>
</ul>

<p><strong>Indentation (Hierarchy):</strong></p>
<ul>
  <li>The indentation levels indicate the hierarchy and nesting of mappings within mappings. For example, the indentation sequence " - FrontendService:" indicates that "FrontendService" is an element of the "resources" sequence, and the subsequent mappings are indented further to show their properties.</li>
</ul>

<p><strong>Tags (!Ref Tag for References):</strong></p>
<ul>
  <li><code>TaskDefinition: !Ref FrontendTaskDefinition:</code> In YAML, the !Ref tag is used to reference other values or resources. Here, !Ref is a tag indicating that FrontendTaskDefinition should be referenced.</li>
</ul>

<p><strong>Mappings and Nested Mappings:</strong></p>
<ul>
  <li><code>LoadBalancerInfo:</code> In this case, LoadBalancerInfo is a mapping (key-value pair) that contains a nested mapping. No explicit tags are used here, but the structure is inferred by YAML's default mappings.</li>
</ul>

<p><strong>Aliases (& for Anchors and * for Aliases):</strong></p>
<ul>
  <li><strong>Anchors (&):</strong> In this example, you don't see explicit anchors, but they can be used to define reusable structures. For instance, an anchor could be used for common configurations shared between services.</li>
  <li><strong>Aliases (*):</strong> Similarly, you don't see explicit aliases, but they could be used to reference and reuse configurations within the same YAML file.</li>
</ul>

<p>Overall, the AppSpec file is structured using mappings, sequences (arrays), and indentation sequences, anchors, aliases & tags to define how various resources should be deployed using AWS CodeDeploy.</p>

<p><strong>Conclusion:</strong></p>
<p>Overall, YAML is a superstar among data languages that's easy to understand, used for creating files and controlling how things work. It's like a friendly bridge between different computers and programming languages, helping them talk and share info. In DevOps, YAML is essential for tools like Kubernetes and Ansible, making things work like magic. Now, we've learned the basics and even advanced concepts like schemas, tags, and anchors. With this knowledge, we can create organized configurations and even write deployment files like the appspec.yaml we explored. So, YAML is a powerful friend in the tech world, making things smooth and efficient.</p>

      <!-- Add more content here -->

      <p><i>Share this post:</i></p>
      <div class="social-icons">
      <div class="sharethis-inline-share-buttons"></div>
    </div>

      <div>
	<a href="Blogs.html" class="read-more">Back</a>
      </div>
    </article>

    <!-- Sidebar Section -->
    <object type="text/html" data="sidebar.html" width="300" height="1000">

      <!-- Add more sidebar content as needed -->

    </div>
  </div>

  <footer>
   &copy; Copyright 2023 Pravin Mishra
  </footer>

</body>
</html>

