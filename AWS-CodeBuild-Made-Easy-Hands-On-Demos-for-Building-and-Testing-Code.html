<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/blogstyles.css">
<link rel="icon" href="f.png" type="image/x-icon">
  <title>AWS-CodeBuild:-The Ultimate Solution for Converting Source Code to Deployable Build Files</title>
 <script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=653115d82ee074001200f239&product=inline-share-buttons&source=platform" async="async"></script>
</head>
<body>
  <header>
<!-- Navigation Section -->
  <nav>
    <div class="logo-container">
        <a href=" https://masteringawsdevops.com"><img src="images/logo1.png" alt="Mastering AWS DevOps"></a>
    </div>
    <ul class="nav-links">
	<li><a href="index.html">Home</a></li>
  	<li><a href="Blogs.html">Book Hands-on</a></li>

    </ul>
  </nav>
  </header>


  <div class="main-container">
    <article>
    <h1>AWS-CodeBuild:-The Ultimate Solution for Converting Source Code to Deployable Build Files</h1>

  <p>Welcome to <b>Chapter 24</b> of our <b>"Mastering AWS DevOps"</b> series! In this blog, we will continue with all the steps of getting started with the AWS CodeBuild in detail. In the world of DevOps continuous integration and continuous deployment (CI/CD), automation is the key to success. AWS (Amazon Web Services) provides a wide range of tools and services to streamline your development and deployment processes.</p>
    
  <h3>AWS CodeBuild</h3>

  <img src="blogimages/AWS CodeBuild.png" alt="Blog Post Image">

  <p>CodeBuild is a fully managed service by AWS, saving us the effort of setting up and managing underlying infrastructure for ‘software build’ and ‘software test’ tasks. This allows us to focus more on actual coding and testing. It plays a central role in simplifying and accelerating the process of building and testing code, a fundamental element of the modern software development lifecycle.</p>
  
  <p>This is the short introduction of the AWS CodeBuild.</p>

  <p>Let’s begin!!</p>

  <h3>1. Setting up AWS CodeBuild</h3>

  <p>At this point, we will set up an AWS CodeBuild.</p>

  <img src="blogimages/AWS CodeBuild works.png" alt="Blog Post Image">
 
  <p>In this image, we show the exact process of how AWS CodeBuild works.</p>

  <p>Let us explain the diagram, so you will get a clear idea about it.</p>

  <p>In the above diagram, there are two terms used i.e. Inputs, and Outputs. Now first we will explain what inputs have. In the Inputs, it has source code, it has a <b>“build.yaml”</b> file as input to the AWS CodeBuild. Now, the source code is provided to the AWS CodeBuild as input. Then <b>“build.yaml”</b> file which defines —</p>

  <ol>
  
  <li>It defines how to run code.</li>
  <li>It defines which command to use.</li>
  <li>It defines which environment to use for your code.</li>
    </ol>

  <p>This is the input term provided as an input to the AWS CodeBuild.</p>

  <p>Now, we will see what the output is.</p>

  <p>The output contains Artifact (a deployable source code file) and CloudWatch logs.</p>

  <p>The word output itself defines the meaning of the output word. It is the output generated by AWS CodeBuild.</p>

  <p>This is the explanation of the above image.</p>

  <p>Before diving into the hands-on demos, you will need an AWS account. This is an AWS-related blog, so I am considering that you have an account on AWS. Once you have an AWS account, navigate to the AWS Management Console</p>

  <h3>1.1 Steps to Set Up AWS CodeBuild</h3>

  <p>Setting up AWS CodeBuild is a crucial step in automating your build and test workflows.</p>

  <p>Here, we’ll walk you through the essential steps to set up AWS CodeBuild:</p>

  <ol>
   
  <li><strong>Open the AWS Management Console:</strong> To begin, log in to your AWS account and access the AWS Management Console.</li>
  <li><strong>Navigate to CodeBuild:</strong> In the AWS Management Console, you can locate the AWS CodeBuild service by searching for <b>“CodeBuild”</b> in the search bar or by navigating to it through the <b>“Developer Tools”</b> section.</li>
  <li><strong>Now, we have successfully logged into the AWS Management Console.</strong></li>
    </ol>

    <img src="blogimages/Search Codebuild.png" alt="Blog Post Image">

  <h3>2. Creating a CodeBuild Project</h3>

  <p>Let's create a CodeBuild project from the very beginning.</p>

  <h4>Demo 1: Creating a CodeBuild project</h4>

  <p>Once you are inside the AWS CodeBuild service, click on the <b>“Create project”</b> button as shown below.</p>

  <img src="blogimages/Create project.png" alt="Blog Post Image">

  <p>This action initiates the process of setting up a new build project from the very beginning.</p>

  <h4>Project Configuration:</h4>

  <p>Here, you will need to provide the following information:</p>

  <ul>
    
    <li><h4>Project Name:</h4></li>
  
  </ul>    
  <p>Give your project a descriptive name. This is how you will identify it later in the CodeBuild console. For this example, let’s name it <b>“Mydemoproj.”</b></p>
  
  <img src="blogimages/Project Name.png" alt="Blog Post Image">

  <ul>
    
    <li><h4>Source Provider:</h4></li>

    </ul>
  <p>In the source provider, Choose the source code repository you are using for your Node.js application. In our example, we are selecting <b>“GitHub”</b>.</p>

  <img src="blogimages/Service provider.png" alt="Blog Post Image">

  <p>Now, we have 2 options to select credentials after selecting GitHub.</p>

  <h4>1. Default source credentials</h4>
  <h4>2. Custom source credentials</h4>
  
  <p>You can select the radio button accordingly.</p>

  <img src="blogimages/Source Credential.png" alt="Blog Post Image">
<ul>
  <li><h4>Environment</h4></li>
  </ul>
  
  <p>The Environment refers to the runtime setup in which your build processes (such as compiling code, running tests, or packaging artifacts) are executed. This environment defines the underlying system, tools and dependencies that are available to the build job.</p>

  <p><strong>Environment Image:</strong> The environment image is a Docker image that contains the runtime and tools needed to execute your build. You can choose from.</p>

  <ol>

  <li><strong>Managed Images:</strong> AWS provides pre-configured Docker images for popular languages (e.g. Node.js, Python, Java, .Net, Go). These come with common development tools pre-installed.</li>
  <li><strong>Custom Images:</strong> You can provide your own Docker image hosted in Amazon ECR or Docker Hub if you need specific tools or configurations that aren’t in the managed images.</li>
    </ol>

    <img src="blogimages/Environment.png" alt="Blog Post Image">
  
    <ul>
    
      <li><h4>Buildspec:</h4></li>
    
    </ul> 
<p>The <b>“Buildspec”</b> is where you define the instructions for the build and test phases. You can either write a <b>“buildspec.yml”</b> file manually or use the AWS CodeBuild console to create a template.</p>

<img src="blogimages/Buildspec.png" alt="Blog Post Image">

<p>For our Node.js application, the buildspec.yml could look like this:</p>

<img src="blogimages/Buildspec file.png" alt="Blog Post Image">

<h3>3. Configuring Build Specifications</h3>

<p>The heart of your CodeBuild project is the buildspec.yml file. This YAML file defines what happens during the build and test phases.</p>

<p>After creating an AWS CodeBuild project, the next crucial step is to configure the build specifications. These build specifications, defined in a buildspec.yml file, outline the exact steps and commands that AWS CodeBuild will follow to build, test, and package your application. In this step, we’ll dive into the details of configuring build specifications for your CodeBuild project.</p>

<h4>Demo 2: Creating a buildspec.yml File</h4>

<p>To get started with build specifications, you need to create a buildspec.yml file. This file will be included in your source code repository and serves as a blueprint for CodeBuild to follow. Here’s an example buildspec.yml for a Node.js application:</p>

<img src="blogimages/buildspec file2.png" alt="Blog Post Image">

<pre>
  version: 0.2
  phases:
    install:
      commands:
        - npm install
    build:
      commands:
        - npm test
  artifacts:
    files: '**/*'
  </pre>

  <p>In this example:</p>

  <ul>

  <li><strong>version:</strong> 0.2 specifies the format version of the buildspec file.</li>
  <li><strong>phases</strong> define the different phases of your build process. In this example, we have two phases: <b>install</b> and <b>build.</b></li>
  <li><strong>commands</strong> under each phase list the specific commands to execute. For the install phase, we run npm install to install project dependencies. In the build phase, we execute npm test to run tests.</li>    
  <li><strong>artifacts</strong> specify what files or directories should be included in the build artifacts. The files: '**/*' means that all files and directories in your project should be included.</li>

</ul>



<p><strong>Phases:</strong> Define the build phases, such as installing dependencies and running tests.</p>
<p><strong>Commands:</strong> Specify the commands to be executed in each phase.</p>
<p><strong>Artifacts:</strong> Specify what files should be included in the build artifacts</p>

<ul>
<li><strong>Logs:</strong></li>
  </ul>

  <p>Logs provide detailed output of your build process, allowing you to troubleshoot errors and monitor progress. Logs capture information from each phase of the build (install, pre-build, build, and post-build) including command output, error messages and environment configurations.</p>

  <p>Types of Logs in CodeBuild:</p>

  <ol>
  <p>Cloudwatch Logs</p>
  <p>S3 Logs (optional)</p>
  <p>Build Console Logs</p>
    </ol>


  <p>Fill in all the information and click on <b>“Create Build Project”.</b></p>

  <img src="blogimages/Logs.png" alt="Blog Post Image">


  <h3>4. Building and Testing Code</h3>

  <p>After configuring build specifications in AWS CodeBuild, the next step is to initiate a build, during which CodeBuild follows the instructions specified in the buildspec file (buildspec.yml) to build and test your code. In this step, we’ll delve into the process of building and testing code using AWS CodeBuild.</p>

  <h4>Step 1: Triggering a Build</h4>

  <p>Before your code can be built and tested, you need to initiate a build. There are several methods to trigger a build:</p>

  <ul>
  <li><strong>Manual Start:</strong> In the AWS CodeBuild console, you can manually start a build for your project. This is useful for testing and debugging your build process. Here’s how you can manually start a build:</li>
    </ul>

    <ol>
       <li>In the AWS CodeBuild console, locate your project and click on it to access the project details.</li>
       <li>Click the <b>“Start build”</b> button to initiate a manual build. This will trigger CodeBuild to follow the instructions specified in your buildspec.yml file</li>
    </ol>

  <ul>
  <li><strong>Integration with CI/CD:</strong> In a Continuous Integration/Continuous Deployment (CI/CD) pipeline, AWS CodeBuild can be automatically triggered whenever changes are pushed to your source code repository. This is a common and powerful way to ensure that code is automatically built and tested upon changes.</li>
    </ul>
  
  <h4>Step 2: CodeBuild Execution</h4>

  <p>Once a build is triggered, AWS CodeBuild will execute the following steps as defined in your buildspec.yml:</p>

  <ul>

  <li><strong>Install Phase:</strong> In this phase, CodeBuild will execute the commands specified in the install section of your buildspec.yml. It’s common to use this phase for tasks such as installing project dependencies or setting up the build environment.</li>
  <li><strong>Build Phase:</strong> The build section of the buildspec.yml contains commands that are executed in the build phase. This is where your application’s build and test processes occur. For example, you might compile your code, run unit tests, and generate artifacts.</li>
  <li><strong>Artifacts Generation:</strong> As specified in the artifacts section of your buildspec.yml, CodeBuild will package and store the build artifacts. These artifacts can include compiled code, test reports, or other files that are generated during the build.</li>    
</ul>

<h3>5. Using AWS CodePipeline with CodeBuild</h3>

<p>AWS CodePipeline allows you to automate your entire CI/CD workflow, including building, testing, and deploying your code using AWS CodeBuild as a crucial step.</p>

<p>AWS CodePipeline is a service that allows you to build, test, and deploy your code changes continuously. By integrating AWS CodeBuild into your CodePipeline, you can automate and streamline your entire software release process. In this step, we will explore how to use AWS CodePipeline with AWS CodeBuild.</p>

 <h4>Step 1: Create a CodePipeline</h4>
    <ol>
        <li><strong>Navigate to AWS CodePipeline:</strong></li>
        <ul>
            <li>Use the search bar at the top and type <b>“CodePipeline.”</b></li>
            <li>Click on the “CodePipeline” result to enter the AWS CodePipeline service.</li>
        </ul>
        <li><strong>Create a New Pipeline:</strong></li>
        <ul>
            <li>Click the “Create pipeline” button to initiate the process of setting up a new pipeline.</li>
        </ul>
        <li><strong>Pipeline Settings:</strong></li>
        <ul>
            <li>Define a pipeline name and choose the service role. The service role should have permissions to interact with AWS services and resources, including AWS CodeBuild.</li>
        </ul>
        <li><strong>Source Stage:</strong></li>
        <ul>
            <li>Configure the source stage by choosing the source provider where your code is stored, such as GitHub, CodeCommit, or an S3 bucket. You will also specify the repository and branch.</li>
        </ul>
        <li><strong>Build Stage:</strong></li>
        <ul>
            <li>In this stage, you will add an action to build your code. Choose “AWS CodeBuild” as the build provider, and select the project you created earlier in AWS CodeBuild.</li>
        </ul>
        <li><strong>Deploy Stage:</strong></li>
        <ul>
            <li>If your pipeline includes a deployment stage, you can configure it based on your deployment targets. This could be an AWS Elastic Beanstalk environment, an Amazon S3 bucket, or an AWS Lambda function, depending on your application.</li>
        </ul>
        <li><strong>Review and Create:</strong></li>
        <ul>
            <li>Review your pipeline configuration to ensure everything is set up correctly, and then click “Create pipeline.”</li>
        </ul>
    </ol>

    <h4>Step 2: Configure Your Pipeline Stages</h4>

    <p>The source stage monitors changes in your source code repository and triggers the pipeline automatically when new code is pushed.</p>

    <p>The build stage uses AWS CodeBuild to build and test your code according to the specifications defined in your <b>buildspec.yml</b>.</p>

    <p>If you have a deployment stage, it will take the output of the build stage and deploy it to your target environment.</p>

    <h4>Step 3: Monitor and Automate</h4>

    <p>Once your pipeline is set up, it will continuously monitor changes in your source code repository. When changes are detected, it automatically triggers the defined stages, which can include building and testing with AWS CodeBuild.</p>

    <p>You can monitor the progress and status of your pipeline in the AWS CodePipeline console. This allows you to track the status of builds, deployments, and any errors that may occur.</p>

    <h4>Step 4: Review and Iterate</h4>

    <p>Just like when using AWS CodeBuild on its own, it’s important to regularly review your pipeline’s logs and the outcomes of your builds and deployments.</p>

    <p>If issues or improvements are identified, you can update your pipeline’s configurations and the <b>buildspec.yml</b> file to refine your entire software release process.</p>

    <h4>Testing Changes</h4>

    <p>After making changes to your CodeBuild configuration or buildspec file, it's important to thoroughly test the changes. Here are some testing scenarios to consider:</p>

    <ul>
      <li>Trigger a new build and verify that it successfully completes without errors.</li>
      <li>Review the build logs to ensure that all the desired steps are executed correctly.</li>
      <li>Test the built artifact to confirm that it functions as expected.</li>
    </ul>

    <p><strong>End of Using AWS CodePipeline with CodeBuild</strong></p>

    <p>By integrating AWS CodeBuild into AWS CodePipeline, you automate the entire software development and deployment process. Changes in your source code repository trigger a sequence of actions, from building and testing with CodeBuild to deploying your application to various environments. This automation results in faster, more reliable, and efficient software delivery.</p>

    <h4>Demo 4: Setting Up CodePipeline with CodeBuild</h4>

    <ol>
        <li><strong>Create a CodePipeline:</strong></li>
        <ul>
            <li>Navigate to AWS CodePipeline in the AWS Management Console.</li>
            <li>Create a new pipeline and configure your source, build, and deployment stages.</li>
        </ul>
        <li><strong>Add CodeBuild as a Stage:</strong></li>
        <ul>
            <li>Add a build stage to your pipeline and select your CodeBuild project.</li>
        </ul>
        <li><strong>Configure Triggers:</strong></li>
        <ul>
            <li>Set up triggers to automatically start the pipeline when code changes are detected.</li>
        </ul>
    </ol>

    <h3>Conclusion</h3>

    <p>AWS CodeBuild is a powerful service that enables you to automate your build and test workflows in a scalable and customizable manner. By following the hands-on demos and best practices outlined in this blog, you can streamline your development process, increase code quality, and accelerate your software delivery pipeline. Start building with AWS CodeBuild today and experience the benefits of automated CI/CD.</p>

    <p>Remember, automation is key in the DevOps world, and AWS CodeBuild is here to make your development life easier, one build at a time.</p>

      <!-- Add more content here -->

      <p><i>Share this post:</i></p>
      <div class="social-icons">
      <div class="sharethis-inline-share-buttons"></div>
    </div>

      <div>
	<a href="Blogs.html" class="read-more">Back</a>
      </div>
    </article>

    <!-- Sidebar Section -->
    <object type="text/html" data="sidebar.html" width="300" height="1000">

      <!-- Add more sidebar content as needed -->

    </div>
  </div>

  <footer>
   &copy; Copyright 2023 Pravin Mishra
  </footer>

</body>
</html>